/*!
* rete-context-menu-plugin v0.3.2
* (c) 2018
* Released under the ISC license.
*/
!function (e) { "use strict"; var u, t = Object.prototype, c = t.hasOwnProperty, n = "function" == typeof Symbol ? Symbol : {}, i = n.iterator || "@@iterator", r = n.asyncIterator || "@@asyncIterator", o = n.toStringTag || "@@toStringTag", a = "object" == typeof module, s = e.regeneratorRuntime; if (s) a && (module.exports = s); else { (s = e.regeneratorRuntime = a ? module.exports : {}).wrap = b; var d = "suspendedStart", m = "suspendedYield", f = "executing", h = "completed", p = {}, l = {}; l[i] = function () { return this }; var A = Object.getPrototypeOf, v = A && A(A(j([]))); v && v !== t && c.call(v, i) && (l = v); var y = w.prototype = x.prototype = Object.create(l); C.prototype = y.constructor = w, w.constructor = C, w[o] = C.displayName = "GeneratorFunction", s.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === C || "GeneratorFunction" === (t.displayName || t.name)) }, s.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, w) : (e.__proto__ = w, o in e || (e[o] = "GeneratorFunction")), e.prototype = Object.create(y), e }, s.awrap = function (e) { return { __await: e } }, E(S.prototype), S.prototype[r] = function () { return this }, s.AsyncIterator = S, s.async = function (e, t, n, r) { var i = new S(b(e, t, n, r)); return s.isGeneratorFunction(t) ? i : i.next().then(function (e) { return e.done ? e.value : i.next() }) }, E(y), y[o] = "Generator", y[i] = function () { return this }, y.toString = function () { return "[object Generator]" }, s.keys = function (n) { var r = []; for (var e in n) r.push(e); return r.reverse(), function e() { for (; r.length;) { var t = r.pop(); if (t in n) return e.value = t, e.done = !1, e } return e.done = !0, e } }, s.values = j, L.prototype = { constructor: L, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = u, this.done = !1, this.delegate = null, this.method = "next", this.arg = u, this.tryEntries.forEach(k), !e) for (var t in this) "t" === t.charAt(0) && c.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = u) }, stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, dispatchException: function (n) { if (this.done) throw n; var r = this; function e(e, t) { return o.type = "throw", o.arg = n, r.next = e, t && (r.method = "next", r.arg = u), !!t } for (var t = this.tryEntries.length - 1; 0 <= t; --t) { var i = this.tryEntries[t], o = i.completion; if ("root" === i.tryLoc) return e("end"); if (i.tryLoc <= this.prev) { var a = c.call(i, "catchLoc"), s = c.call(i, "finallyLoc"); if (a && s) { if (this.prev < i.catchLoc) return e(i.catchLoc, !0); if (this.prev < i.finallyLoc) return e(i.finallyLoc) } else if (a) { if (this.prev < i.catchLoc) return e(i.catchLoc, !0) } else { if (!s) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return e(i.finallyLoc) } } } }, abrupt: function (e, t) { for (var n = this.tryEntries.length - 1; 0 <= n; --n) { var r = this.tryEntries[n]; if (r.tryLoc <= this.prev && c.call(r, "finallyLoc") && this.prev < r.finallyLoc) { var i = r; break } } i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null); var o = i ? i.completion : {}; return o.type = e, o.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, p) : this.complete(o) }, complete: function (e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), p }, finish: function (e) { for (var t = this.tryEntries.length - 1; 0 <= t; --t) { var n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), k(n), p } }, catch: function (e) { for (var t = this.tryEntries.length - 1; 0 <= t; --t) { var n = this.tryEntries[t]; if (n.tryLoc === e) { var r = n.completion; if ("throw" === r.type) { var i = r.arg; k(n) } return i } } throw new Error("illegal catch attempt") }, delegateYield: function (e, t, n) { return this.delegate = { iterator: j(e), resultName: t, nextLoc: n }, "next" === this.method && (this.arg = u), p } } } function b(e, t, n, r) { var o, a, s, u, i = t && t.prototype instanceof x ? t : x, c = Object.create(i.prototype), l = new L(r || []); return c._invoke = (o = e, a = n, s = l, u = d, function (e, t) { if (u === f) throw new Error("Generator is already running"); if (u === h) { if ("throw" === e) throw t; return I() } for (s.method = e, s.arg = t; ;) { var n = s.delegate; if (n) { var r = B(n, s); if (r) { if (r === p) continue; return r } } if ("next" === s.method) s.sent = s._sent = s.arg; else if ("throw" === s.method) { if (u === d) throw u = h, s.arg; s.dispatchException(s.arg) } else "return" === s.method && s.abrupt("return", s.arg); u = f; var i = g(o, a, s); if ("normal" === i.type) { if (u = s.done ? h : m, i.arg === p) continue; return { value: i.arg, done: s.done } } "throw" === i.type && (u = h, s.method = "throw", s.arg = i.arg) } }), c } function g(e, t, n) { try { return { type: "normal", arg: e.call(t, n) } } catch (e) { return { type: "throw", arg: e } } } function x() { } function C() { } function w() { } function E(e) { ["next", "throw", "return"].forEach(function (t) { e[t] = function (e) { return this._invoke(t, e) } }) } function S(u) { var t; this._invoke = function (n, r) { function e() { return new Promise(function (e, t) { !function t(e, n, r, i) { var o = g(u[e], u, n); if ("throw" !== o.type) { var a = o.arg, s = a.value; return s && "object" == typeof s && c.call(s, "__await") ? Promise.resolve(s.__await).then(function (e) { t("next", e, r, i) }, function (e) { t("throw", e, r, i) }) : Promise.resolve(s).then(function (e) { a.value = e, r(a) }, i) } i(o.arg) }(n, r, e, t) }) } return t = t ? t.then(e, e) : e() } } function B(e, t) { var n = e.iterator[t.method]; if (n === u) { if (t.delegate = null, "throw" === t.method) { if (e.iterator.return && (t.method = "return", t.arg = u, B(e, t), "throw" === t.method)) return p; t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method") } return p } var r = g(n, e.iterator, t.arg); if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, p; var i = r.arg; return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = u), t.delegate = null, p) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, p) } function _(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function k(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function L(e) { this.tryEntries = [{ tryLoc: "root" }], e.forEach(_, this), this.reset(!0) } function j(t) { if (t) { var e = t[i]; if (e) return e.call(t); if ("function" == typeof t.next) return t; if (!isNaN(t.length)) { var n = -1, r = function e() { for (; ++n < t.length;)if (c.call(t, n)) return e.value = t[n], e.done = !1, e; return e.value = u, e.done = !0, e }; return r.next = r } } return { next: I } } function I() { return { value: u, done: !0 } } }(function () { return this }() || Function("return this")()), function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t(require("lodash"), require("vue")) : "function" == typeof define && define.amd ? define(["lodash", "vue"], t) : e.ContextMenuPlugin = t(e._, e.Vue) }(this, function (t, i) { "use strict"; i = i && i.hasOwnProperty("default") ? i.default : i; var e = function (e) { return { props: { delay: { type: Number, required: !0 } }, data: function () { return { timeoutHide: function () { } } }, methods: { cancelHide: function () { var e = this.timeoutHide; e && e.cancel && this.timeoutHide.cancel() } } } }, n = { name: "Item", mixins: [e("hideSubitems")], props: { item: Object, args: Object }, data: function () { return { visibleSubitems: !1 } }, computed: { hasSubitems: function () { return this.item.subitems } }, methods: { showSubitems: function () { this.visibleSubitems = !0, this.cancelHide() }, hideSubitems: function () { this.visibleSubitems = !1 }, onClick: function (e) { e.stopPropagation(), this.item.onClick && this.item.onClick(this.args), this.$root.$emit("hide") } } }, r = function () { var t = this, e = t.$createElement, n = t._self._c || e; return n("div", { staticClass: "item", class: { hasSubitems: t.hasSubitems }, on: { click: function (e) { t.onClick(e) }, mouseover: function (e) { t.showSubitems() }, mouseleave: function (e) { t.hideSubitems() } } }, [t._v(t._s(t.item.title)), n("div", { directives: [{ name: "show", rawName: "v-show", value: t.hasSubitems && this.visibleSubitems, expression: "hasSubitems && this.visibleSubitems" }], staticClass: "subitems" }, t._l(t.item.subitems, function (e) { return n("Item", { key: e.title, attrs: { item: e, args: t.args, delay: t.delay } }) }))]) }; r._withStripped = !0; var o = function (e, t, n, r, i, o, a, s) { var u = ("function" == typeof n ? n.options : n) || {}; u.__file = "/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Item.vue", u.render || (u.render = e.render, u.staticRenderFns = e.staticRenderFns, u._compiled = !0, i && (u.functional = !0)), u._scopeId = r; var c = void 0; if (t && (c = function (e) { t.call(this, a(e)) }), void 0 !== c) if (u.functional) { var l = u.render; u.render = function (e, t) { return c.call(t), l(e, t) } } else { var d = u.beforeCreate; u.beforeCreate = d ? [].concat(d, c) : [c] } return u }({ render: r, staticRenderFns: [] }, function (e) { e && e("data-v-75c73a32_0", { source: "\n@charset \"UTF-8\";\n.item[data-v-75c73a32], .item .subitems .subitem[data-v-75c73a32] {\n  color: #fff;\n  padding: 4px;\n  border-bottom: 1px solid rgba(31, 32, 32, 1);\n  background-color: rgba(65, 65, 65,1);\n  cursor: pointer;\n  width: 100%;\n  position: relative;\n}\n.item[data-v-75c73a32]:first-child, .item .subitems .subitem[data-v-75c73a32]:first-child {\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n.item[data-v-75c73a32]:last-child, .item .subitems .subitem[data-v-75c73a32]:last-child {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n.item[data-v-75c73a32]:hover, .item .subitems .subitem[data-v-75c73a32]:hover {\n    background-color: rgba(65, 65, 65,1);\n}\n.hasSubitems.item[data-v-75c73a32]:after, .item .subitems .hasSubitems.subitem[data-v-75c73a32]:after {\n  content: '►';\n  position: absolute;\n  opacity: 0.6;\n  right: 5px;\n  top: 5px;\n}\n.item .subitems[data-v-75c73a32], .item .subitems .subitem .subitems[data-v-75c73a32] {\n  position: absolute;\n  top: 0;\n  left: 100%;\n  width: 220px;\n}\n\n/*# sourceMappingURL=Item.vue.map */", map: { version: 3, sources: ["Item.vue", "/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Item.vue"], names: [], mappings: ";AAAA,iBAAiB;ACyDjB;EDvDE,YAAY;EACZ,aAAa;EACb,iDAAiD;EACjD,2CAA2C;EAC3C,gBAAgB;EAChB,YAAY;EACZ,mBAAmB;CAAE;ACiDvB;ID/CI,4BAA4B;IAC5B,6BAA6B;CAAE;AC8CnC;ID5CI,+BAA+B;IAC/B,gCAAgC;CAAE;AC2CtC;IDzCI,2CAA2C;CAAE;AC2CjD;EACA,aAAA;EACA,mBAAA;EACA,aAAA;EACA,WAAA;EACA,SAAA;CAAA;AAPA;EASA,mBAAA;EACA,OAAA;EACA,WAAA;EACA,aAAA;CAEA;;ADxCA,oCAAoC", file: "Item.vue", sourcesContent: ["@charset \"UTF-8\";\n.item, .item .subitems .subitem {\n  color: #fff;\n  padding: 4px;\n  border-bottom: 1px solid rgba(31, 32, 32, 1);\n  background-color: rgba(65, 65, 65,1);\n  cursor: pointer;\n  width: 100%;\n  position: relative; }\n  .item:first-child, .item .subitems .subitem:first-child {\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px; }\n  .item:last-child, .item .subitems .subitem:last-child {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px; }\n  .item:hover, .item .subitems .subitem:hover {\n    background-color: rgba(65, 65, 65,1); }\n\n.hasSubitems.item:after, .item .subitems .hasSubitems.subitem:after {\n  content: '►';\n  position: absolute;\n  opacity: 0.6;\n  right: 5px;\n  top: 5px; }\n\n.item .subitems, .item .subitems .subitem .subitems {\n  position: absolute;\n  top: 0;\n  left: 100%;\n  width: 220px; }\n\n/*# sourceMappingURL=Item.vue.map */", null] }, media: void 0 }) }, n, "data-v-75c73a32", !1, 0, function e() { var c = document.head || document.getElementsByTagName("head")[0], l = e.styles || (e.styles = {}), d = "undefined" != typeof navigator && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()); return function (e, t) { if (!document.querySelector('style[data-vue-ssr-id~="' + e + '"]')) { var n = d ? t.media || "default" : e, r = l[n] || (l[n] = { ids: [], parts: [], element: void 0 }); if (!r.ids.includes(e)) { var i = t.source, o = r.ids.length; if (r.ids.push(e), d && (r.element = r.element || document.querySelector("style[data-group=" + n + "]")), !r.element) { var a = r.element = document.createElement("style"); a.type = "text/css", t.media && a.setAttribute("media", t.media), d && (a.setAttribute("data-group", n), a.setAttribute("data-next-index", "0")), c.appendChild(a) } if (d && (o = parseInt(r.element.getAttribute("data-next-index")), r.element.setAttribute("data-next-index", o + 1)), r.element.styleSheet) r.parts.push(i), r.element.styleSheet.cssText = r.parts.filter(Boolean).join("\n"); else { var s = document.createTextNode(i), u = r.element.childNodes; u[o] && r.element.removeChild(u[o]), u.length ? r.element.insertBefore(s, u[o]) : r.element.appendChild(s) } } } } }), a = { props: ["search"], data: function () { return { value: "" } }, watch: { value: function () { this.$emit("search", this.value) } } }, s = function () { var t = this, e = t.$createElement, n = t._self._c || e; return n("div", { staticClass: "search" }, [n("input", { directives: [{ name: "model", rawName: "v-model", value: t.value, expression: "value" }], domProps: { value: t.value }, on: { input: function (e) { e.target.composing || (t.value = e.target.value) } } })]) }; s._withStripped = !0; var u, c = function (e, t, n, r, i, o, a, s) { var u = ("function" == typeof n ? n.options : n) || {}; u.__file = "/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Search.vue", u.render || (u.render = e.render, u.staticRenderFns = e.staticRenderFns, u._compiled = !0, i && (u.functional = !0)), u._scopeId = r; var c = void 0; if (t && (c = function (e) { t.call(this, a(e)) }), void 0 !== c) if (u.functional) { var l = u.render; u.render = function (e, t) { return c.call(t), l(e, t) } } else { var d = u.beforeCreate; u.beforeCreate = d ? [].concat(d, c) : [c] } return u }({ render: s, staticRenderFns: [] }, function (e) { e && e("data-v-8ae288fc_0", { source: "\n.search input[data-v-8ae288fc] {\n  color: white;\n  padding: 1px 8px;\n  border: 1px solid white;\n  border-radius: 10px;\n  font-size: 16px;\n  font-family: serif;\n  width: 100%;\n  box-sizing: border-box;\n  background: transparent;\n}\n\n/*# sourceMappingURL=Search.vue.map */", map: { version: 3, sources: ["/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Search.vue", "Search.vue"], names: [], mappings: ";AAuBA;EAEA,aAAA;EACA,iBAAA;EACA,wBAAA;EACA,oBAAA;EACA,gBAAA;EACA,mBAAA;EACA,YAAA;EACA,uBAAA;EACA,wBAAA;CAAA;;ACtBA,sCAAsC", file: "Search.vue", sourcesContent: [null, ".search input {\n  color: white;\n  padding: 1px 8px;\n  border: 1px solid white;\n  border-radius: 10px;\n  font-size: 16px;\n  font-family: serif;\n  width: 100%;\n  box-sizing: border-box;\n  background: transparent; }\n\n/*# sourceMappingURL=Search.vue.map */"] }, media: void 0 }) }, a, "data-v-8ae288fc", !1, 0, function e() { var c = document.head || document.getElementsByTagName("head")[0], l = e.styles || (e.styles = {}), d = "undefined" != typeof navigator && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()); return function (e, t) { if (!document.querySelector('style[data-vue-ssr-id~="' + e + '"]')) { var n = d ? t.media || "default" : e, r = l[n] || (l[n] = { ids: [], parts: [], element: void 0 }); if (!r.ids.includes(e)) { var i = t.source, o = r.ids.length; if (r.ids.push(e), d && (r.element = r.element || document.querySelector("style[data-group=" + n + "]")), !r.element) { var a = r.element = document.createElement("style"); a.type = "text/css", t.media && a.setAttribute("media", t.media), d && (a.setAttribute("data-group", n), a.setAttribute("data-next-index", "0")), c.appendChild(a) } if (d && (o = parseInt(r.element.getAttribute("data-next-index")), r.element.setAttribute("data-next-index", o + 1)), r.element.styleSheet) r.parts.push(i), r.element.styleSheet.cssText = r.parts.filter(Boolean).join("\n"); else { var s = document.createTextNode(i), u = r.element.childNodes; u[o] && r.element.removeChild(u[o]), u.length ? r.element.insertBefore(s, u[o]) : r.element.appendChild(s) } } } } }), l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, h = function (e) { return function () { var s = e.apply(this, arguments); return new Promise(function (o, a) { return function t(e, n) { try { var r = s[e](n), i = r.value } catch (e) { return void a(e) } if (!r.done) return Promise.resolve(i).then(function (e) { t("next", e) }, function (e) { t("throw", e) }); o(i) }("next") }) } }, d = function () { function r(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (e, t, n) { return t && r(e.prototype, t), n && r(e, n), e } }(), p = function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function (e, t) { var n = [], r = !0, i = !1, o = void 0; try { for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0); } catch (e) { i = !0, o = e } finally { try { !r && s.return && s.return() } finally { if (i) throw o } } return n }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, m = function (e) { if (Array.isArray(e)) { for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t]; return n } return Array.from(e) }, A = (u = h(regeneratorRuntime.mark(function e(t, n) { var r, i = n.data, o = void 0 === i ? {} : i, a = n.meta, s = void 0 === a ? {} : a, u = n.x, c = n.y; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, t.createNode(o); case 2: return (r = e.sent).meta = s, r.position[0] = u, r.position[1] = c, e.abrupt("return", r); case 7: case "end": return e.stop() } }, e, this) })), function (e, t) { return u.apply(this, arguments) }); var f = { props: { searchBar: Boolean }, mixins: [e("hide")], data: function () { return { x: 0, y: 0, visible: !1, args: {}, filter: "", items: [] } }, computed: { style: function () { return { top: this.y + "px", left: this.x + "px" } }, filtered: function () { var t = this; return this.filter ? this.extractLeafs(this.items).filter(function (e) { return e.title.toLowerCase().includes(t.filter.toLowerCase()) }) : this.items } }, methods: { extractLeafs: function (e) { var t = this; if (!e) return []; var n = []; return e.map(function (e) { e.subitems || n.push(e), n.push.apply(n, m(t.extractLeafs(e.subitems))) }), n }, onSearch: function (e) { this.filter = e }, show: function (e, t) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; this.visible = !0, this.x = e, this.y = t, this.args = n, this.cancelHide() }, hide: function () { this.visible = !1 }, additem: function (e, t) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : [], r = this.items; if (!n || "function" != typeof n[Symbol.iterator] && !Array.isArray(n)) throw new TypeError("Expected path to be iterable, got " + function t(n, r) { void 0 === r && (r = 0); r += 1; { if (null === n) return "null"; if (void 0 === n) return "void"; if ("string" == typeof n || "number" == typeof n || "boolean" == typeof n) return void 0 === n ? "undefined" : l(n); if (Array.isArray(n)) { if (0 < n.length) { if (4 < r) return "[...]"; var i = t(n[0], r); return n.every(function (e) { return t(e, r) === i }) ? i.trim() + "[]" : "[" + n.slice(0, 15).map(function (e) { return t(e, r) }).join(", ") + (15 <= n.length ? ", ..." : "") + "]" } return "Array" } var e = Object.keys(n); if (!e.length) return n.constructor && n.constructor.name && "Object" !== n.constructor.name ? n.constructor.name : "Object"; if (4 < r) return "{...}"; var o = "  ".repeat(r - 1), a = e.slice(0, 15).map(function (e) { return (/^([A-Z_$][A-Z0-9_$]*)$/i.test(e) ? e : JSON.stringify(e)) + ": " + t(n[e], r) + ";" }).join("\n  " + o); return 15 <= e.length && (a += "\n  " + o + "..."), n.constructor && n.constructor.name && "Object" !== n.constructor.name ? n.constructor.name + " {\n  " + o + a + "\n" + o + "}" : "{\n  " + o + a + "\n" + o + "}" } }(n)); var i = !0, o = !1, a = void 0; try { for (var s, u = function () { var t = s.value, e = r.find(function (e) { return e.title === t }); e || (e = { title: t, subitems: [] }, r.push(e)), r = e.subitems || (e.subitems = []) }, c = n[Symbol.iterator](); !(i = (s = c.next()).done); i = !0)u() } catch (e) { o = !0, a = e } finally { try { !i && c.return && c.return() } finally { if (o) throw a } } r.push({ title: e, onClick: t }) } }, updated: function () { if (this.$refs.menu) { var e = (n = [this.x, this.y], r = this.$refs.menu, i = p(n, 2), o = i[0], a = i[1], [Math.min(o, window.innerWidth - r.clientWidth), Math.min(a, window.innerHeight - r.clientHeight)]), t = p(e, 2); this.x = t[0], this.y = t[1] } var n, r, i, o, a }, mounted: function () { this.$root.$on("show", this.show), this.$root.$on("hide", this.hide), this.$root.$on("additem", this.additem) }, components: { Item: o, Search: c } }, v = function () { var t = this, e = t.$createElement, n = t._self._c || e; return t.visible ? n("div", { ref: "menu", staticClass: "context-menu", style: t.style, on: { mouseleave: function (e) { t.timeoutHide() }, mouseover: function (e) { t.cancelHide() }, contextmenu: function (e) { e.preventDefault() } } }, [t.searchBar ? n("Search", { on: { search: t.onSearch } }) : t._e(), t._l(t.filtered, function (e) { return n("Item", { key: e.title, attrs: { item: e, args: t.args, delay: t.delay / 2 } }) })], 2) : t._e() }; v._withStripped = !0; var y = function (e, t, n, r, i, o, a, s) { var u = ("function" == typeof n ? n.options : n) || {}; u.__file = "/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Menu.vue", u.render || (u.render = e.render, u.staticRenderFns = e.staticRenderFns, u._compiled = !0, i && (u.functional = !0)), u._scopeId = r; var c = void 0; if (t && (c = function (e) { t.call(this, a(e)) }), void 0 !== c) if (u.functional) { var l = u.render; u.render = function (e, t) { return c.call(t), l(e, t) } } else { var d = u.beforeCreate; u.beforeCreate = d ? [].concat(d, c) : [c] } return u }({ render: v, staticRenderFns: [] }, function (e) { e && e("data-v-413ce3ca_0", { source: "\n.item[data-v-413ce3ca], .context-menu .search[data-v-413ce3ca] {\n  color: #fff;\n  padding: 4px;\n  border-bottom: 1px solid rgba(31, 32, 32, 1);\n  background-color: rgba(65, 65, 65,1);\n  cursor: pointer;\n  width: 100%;\n  position: relative;\n}\n.item[data-v-413ce3ca]:first-child, .context-menu .search[data-v-413ce3ca]:first-child {\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n.item[data-v-413ce3ca]:last-child, .context-menu .search[data-v-413ce3ca]:last-child {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n.item[data-v-413ce3ca]:hover, .context-menu .search[data-v-413ce3ca]:hover {\n    background-color: rgba(65, 65, 65,1);\n}\n.context-menu[data-v-413ce3ca] {\n  left: 0;\n  top: 0;\n  position: fixed;\n  padding: 10px;\n  width: 220px;\n  margin-top: -20px;\n  margin-left: -60px;\n}\n\n/*# sourceMappingURL=Menu.vue.map */", map: { version: 3, sources: ["Menu.vue", "/media/ni55an/1902898F7AF8DF7096/Workflow/retejs/context-menu-plugin/src/Menu.vue"], names: [], mappings: ";AAAA;EACE,YAAY;EACZ,aAAa;EACb,iDAAiD;EACjD,2CAA2C;EAC3C,gBAAgB;EAChB,YAAY;EACZ,mBAAmB;CAAE;AACrB;IACE,4BAA4B;IAC5B,6BAA6B;CAAE;AACjC;IACE,+BAA+B;IAC/B,gCAAgC;CAAE;AACpC;IACE,2CAA2C;CAAE;ACsGjD;EACA,QAAA;EACA,OAAA;EACA,gBAAA;EACA,cAAA;EACA,aAAA;EACA,kBAAA;EACA,mBAAA;CAEA;;ADpGA,oCAAoC", file: "Menu.vue", sourcesContent: [".item, .context-menu .search {\n  color: #fff;\n  padding: 4px;\n  border-bottom: 1px solid rgba(31, 32, 32, 1);\n  background-color: rgba(65, 65, 65,1);\n  cursor: pointer;\n  width: 100%;\n  position: relative; }\n  .item:first-child, .context-menu .search:first-child {\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px; }\n  .item:last-child, .context-menu .search:last-child {\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px; }\n  .item:hover, .context-menu .search:hover {\n    background-color: rgba(65, 65, 65,1); }\n\n.context-menu {\n  left: 0;\n  top: 0;\n  position: fixed;\n  padding: 10px;\n  width: 220px;\n  margin-top: -20px;\n  margin-left: -60px; }\n\n/*# sourceMappingURL=Menu.vue.map */", null] }, media: void 0 }) }, f, "data-v-413ce3ca", !1, 0, function e() { var c = document.head || document.getElementsByTagName("head")[0], l = e.styles || (e.styles = {}), d = "undefined" != typeof navigator && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()); return function (e, t) { if (!document.querySelector('style[data-vue-ssr-id~="' + e + '"]')) { var n = d ? t.media || "default" : e, r = l[n] || (l[n] = { ids: [], parts: [], element: void 0 }); if (!r.ids.includes(e)) { var i = t.source, o = r.ids.length; if (r.ids.push(e), d && (r.element = r.element || document.querySelector("style[data-group=" + n + "]")), !r.element) { var a = r.element = document.createElement("style"); a.type = "text/css", t.media && a.setAttribute("media", t.media), d && (a.setAttribute("data-group", n), a.setAttribute("data-next-index", "0")), c.appendChild(a) } if (d && (o = parseInt(r.element.getAttribute("data-next-index")), r.element.setAttribute("data-next-index", o + 1)), r.element.styleSheet) r.parts.push(i), r.element.styleSheet.cssText = r.parts.filter(Boolean).join("\n"); else { var s = document.createTextNode(i), u = r.element.childNodes; u[o] && r.element.removeChild(u[o]), u.length ? r.element.insertBefore(s, u[o]) : r.element.appendChild(s) } } } } }), b = function () { function r(e, t) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, r); var n = document.createElement("div"); e.view.container.appendChild(n), this.menu = new i({ render: function (e) { return e(y, { props: t }) } }).$mount(n) } return d(r, [{ key: "addItem", value: function () { for (var e, t = arguments.length, n = Array(t), r = 0; r < t; r++)n[r] = arguments[r]; (e = this.menu).$emit.apply(e, ["additem"].concat(n)) } }, { key: "show", value: function () { for (var e, t = arguments.length, n = Array(t), r = 0; r < t; r++)n[r] = arguments[r]; (e = this.menu).$emit.apply(e, ["show"].concat(n)) } }, { key: "hide", value: function () { this.menu.$emit("hide") } }]), r }(); function g(r, n, e) { var i = this, t = e.items, o = e.allocate, a = e.rename, s = { x: 0, y: 0 }; n.on("mousemove", function (e) { var t = e.x, n = e.y; s.x = t, s.y = n }), n.on("componentregister", function (t) { var e = o(t); Array.isArray(e) && r.addItem(a(t), h(regeneratorRuntime.mark(function e() { return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.t0 = n, e.next = 3, A(t, s); case 3: e.t1 = e.sent, e.t0.addNode.call(e.t0, e.t1); case 5: case "end": return e.stop() } }, e, i) })), e) }), function t(n, r) { var i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : []; "object" === (void 0 === n ? "undefined" : l(n)) && Object.keys(n).map(function (e) { "function" == typeof n[e] ? r(e, n[e], i) : t(n[e], r, [].concat(m(i), [e])) }) }(t, function (e, t, n) { return r.addItem(e, t, n) }) } return { name: "context-menu", install: function (e, t) { var n = t.searchBar, r = void 0 === n || n, i = t.delay, o = void 0 === i ? 1e3 : i, a = t.items, s = void 0 === a ? {} : a, u = t.allocate, c = void 0 === u ? function () { return [] } : u, l = t.rename, d = void 0 === l ? function (e) { return e.name } : l; e.bind("hidecontextmenu"); var m = new b(e, { searchBar: r, delay: o }), f = new b(e, { searchBar: !1, delay: o }); !function (e, l) { var t, d = this; e.addItem("Delete", function (e) { var t = e.node; return l.removeNode(t) }), e.addItem("Clone", (t = h(regeneratorRuntime.mark(function e(t) { var n, r, i, o, a, s, u, c; return regeneratorRuntime.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = t.node, r = n.name, i = n.data, o = n.meta, a = p(n.position, 2), s = a[0], u = a[1], c = l.components.get(r), e.t0 = l, e.next = 5, A(c, { data: i, meta: o, x: s + 10, y: u + 10 }); case 5: e.t1 = e.sent, e.t0.addNode.call(e.t0, e.t1); case 7: case "end": return e.stop() } }, e, d) })), function (e) { return t.apply(this, arguments) })) }(f, e), g(m, e, { items: s, allocate: c, rename: d }), e.on("hidecontextmenu", function () { m.hide(), f.hide() }), e.on("click contextmenu", function () { e.trigger("hidecontextmenu") }), e.on("contextmenu", function (e) { var t = e.e, n = e.node; t.preventDefault(), t.stopPropagation(); var r = [t.clientX, t.clientY], i = r[0], o = r[1]; n ? f.show(i, o, { node: n }) : m.show(i, o) }) } } });
//# sourceMappingURL=context-menu-plugin.min.js.map
